<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="Gym.ChallengePage"
    Title="Challenges">

    <CollectionView x:Name="ChallengeList"
                    SelectionMode="Single"
                    SelectionChanged="OnChallengeSelected">

        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Border Stroke="#E0E0E0"
                StrokeThickness="1"
                Padding="12"
                Margin="10"
                Background="White"
                StrokeShape="RoundRectangle 12">

                    <VerticalStackLayout Spacing="6">

                        <Label Text="{Binding Title}"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="#222" />

                        <Label Text="{Binding Description}"
                       FontSize="13"
                       TextColor="#666" />

                        <Label Text="{Binding RewardPoints, StringFormat='ðŸ† {0} Ä‘iá»ƒm'}"
                       FontSize="13"
                       TextColor="#0066CC" />

                        <HorizontalStackLayout
    Spacing="10"
    HorizontalOptions="End">

                            <!-- TIáº¾N Äá»˜ -->
                            <Button Text="ðŸ“Š Tiáº¿n Ä‘á»™"
            FontSize="13"
            IsVisible="{Binding ShowProgressButton}"
            Clicked="OnProgressClicked"
            CommandParameter="{Binding .}"
            BackgroundColor="#E3F2FD"
            TextColor="#1565C0" />

                            <!-- THAM GIA -->
                            <Button Text="âž• Tham gia"
            FontSize="13"
            IsVisible="{Binding ShowJoinButton}"
            Clicked="OnJoinClicked"
            CommandParameter="{Binding .}"
            BackgroundColor="#E8F5E9"
            TextColor="#2E7D32" />
                        </HorizontalStackLayout>


                    </VerticalStackLayout>
                </Border>
            </DataTemplate>
        </CollectionView.ItemTemplate>


    </CollectionView>

</ContentPage>
